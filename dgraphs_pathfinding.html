<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doloro GDK 22: Pathfinding</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-2.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Doloro GDK 22<span id="projectnumber">&#160;.1.0 Beta</span>
   </div>
   <div id="projectbrief">by Tauri Interactive LLC.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dgraphs_pathfinding.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Pathfinding </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dgraphs_pathfinding_about">About</a><ul><li class="level2"><a href="#dgraphs_pathfinding_about_intro">Brief idea of pathfinding, for beginners</a></li>
</ul>
</li>
<li class="level1"><a href="#dgraphs_pathfinding_path">Path</a><ul><li class="level2"><a href="#dgraphs_pathfinding_path_cache">Cache</a></li>
<li class="level2"><a href="#dgraphs_pathfinding_path_relayed">Relayed state</a></li>
</ul>
</li>
<li class="level1"><a href="#dgraphs_pathfinding_astar">A*</a></li>
<li class="level1"><a href="#dgraphs_pathfinding_ht">How to...</a><ul><li class="level2"><a href="#dgraphs_pathfinding_ht_build">Build a path</a></li>
<li class="level2"><a href="#dgraphs_pathfinding_ht_get">Get built path</a><ul><li class="level3"><a href="#dgraphs_pathfinding_ht_get_abstract">Abstract path</a></li>
<li class="level3"><a href="#dgraphs_pathfinding_ht_get_typed">Certain path</a></li>
</ul>
</li>
<li class="level2"><a href="#dgraphs_pathfinding_ht_release">Release path</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="dgraphs_pathfinding_about"></a>
About</h1>
<p >One of the main operation during work with graphs is a pathfinding. <br  />
The operation allows to find path between graph nodes.</p>
<p ><b><a class="el" href="namespace_doloro.html">Doloro</a> Graphs</b> implements architecture and core concepts for this tasks for you. Getting you both options:</p><ul>
<li>use pre-implemented algorithms</li>
<li>implement your own by extension of the architecture, in case you need non-standard output.</li>
</ul>
<h2><a class="anchor" id="dgraphs_pathfinding_about_intro"></a>
Brief idea of pathfinding, for beginners</h2>
<p >Following section isn't a serious lecture and made to introduce you into base ideas of pathfinding in simple words.</p>
<p ><b>How pathfinding works:</b> <br  />
</p><ul>
<li>The main concept you should understand when you are working with graphs that the pathfinder algorithms usually builds a path basing computing on connection weights, that allows to build most efficient path cross the graph node.</li>
<li>Second important part of pathfinder algorithms is a world position of the nodes. By using this data an algorithm can determine is the path leading toward destination point or now. Such knowledge allows to define which path in current pool is more perspective comparing to each other. <br  />
</li>
</ul>
<p ><em>Always consider this ideas when you are planning implementation of some graph into the game.</em></p>
<p >For more precise \ correct information we recommend you to introduce into Graph Theory as a segment of discrete math. Its important part of wide bunch of game development tasks and understanding of fundamentals will help you to reach higher grounds than any brief explanation.</p>
<hr  />
<h1><a class="anchor" id="dgraphs_pathfinding_path"></a>
Path</h1>
<p ><code>Path</code> by itself is an abstract class that represents path finding algorithm. Using a <code>Path</code> derived class instance you may request path build within some graph using <code>Path.Build</code> method.</p>
<p >Pathfinding works in 3 ways, depending from which one is mode preffered with your architecture. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation type   </th><th class="markdownTableHeadNone">Method   </th><th class="markdownTableHeadNone">Purpose    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Synchronically   </td><td class="markdownTableBodyNone"><code>Build</code>   </td><td class="markdownTableBodyNone">Computes path between two points in the same thread without suspending the process util its computed. <dl class="section warning"><dt>Warning</dt><dd>Use only in very small graphs where you are sure that the search will be instant.    </dd></dl>
</td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Asynchronically   </td><td class="markdownTableBodyNone"><code>BuildAsync</code>   </td><td class="markdownTableBodyNone">Suitable for multi-threading architecture. Allows to handle path build as a <code>Task</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Coroutine   </td><td class="markdownTableBodyNone"><code>BuildCoroutine</code>   </td><td class="markdownTableBodyNone">Also kind of async operation using Unity <code>Coroutine</code> implementation that computes path not in a single call but as long as it takes without damage to performance.   </td></tr>
</table>
<dl class="section warning"><dt>Warning</dt><dd><code>Path</code> by itself not implements any pathfinding algorithm. <br  />
You still may use it to get access to cached paths if it's not important which exactly pathfinder has been used during search.</dd></dl>
<p><b>See also:</b> <a class="el" href="class_doloro_1_1_graphs_1_1_path.html" title="Base logic of the navigation path between two points.">Doloro.Graphs.Path</a></p>
<p ><br  />
</p>
<h2><a class="anchor" id="dgraphs_pathfinding_path_cache"></a>
Cache</h2>
<p >To speed up pathfinding search the module moves computed paths to a cache for continue using. That allows the engine to return you already computed paths instantly without starting a new search.</p>
<p >Moving to the cache goes automatically and not requires any extra action. Still release from cache may demands manual call. You may do it directly from a <code>Path</code> instance using <code>Release</code> method or via static <code>Path.ReleaseCache</code> if you want to release the entire paths data.</p>
<dl class="section warning"><dt>Warning</dt><dd>Cache for path will automatically released in case if any path node has been modified. You no need to call release manually in that case.</dd></dl>
<div class="fragment"><div class="line">var path = new AStartPath(FROM_NODE, TO_NODE);</div>
<div class="line">path.Build();</div>
<div class="line"> </div>
<div class="line">// Handling the path</div>
<div class="line">...</div>
<div class="line">// -----------------</div>
<div class="line"> </div>
<div class="line">// Path no longer need.</div>
<div class="line">// Releasing its data.</div>
<div class="line">path.Release();</div>
</div><!-- fragment --><p >You may try to get computed path via static <code>Path.TryGetCachedPath</code> handler. Call of the <code>Build</code> for the base <code>Path</code> instance will do the same. </p><div class="fragment"><div class="line">if (Path.TryGetCachedPath(FROM_NODE, TO_NODE, out var path))</div>
<div class="line">{</div>
<div class="line">  // The path between nodes has found in cache.</div>
<div class="line">  // use output `path` as you need.</div>
<div class="line">}</div>
</div><!-- fragment --><p >You may force some path to cache to make something like a manual waypoints. </p><div class="fragment"><div class="line">var waypoints = new List&lt;GraphNode&gt;();</div>
<div class="line">// Filling manual path</div>
<div class="line">....</div>
<div class="line">// -------------------</div>
<div class="line"> </div>
<div class="line">// Creating path and placing it to the cache.</div>
<div class="line">new Path(true, waypoints);</div>
</div><!-- fragment --><p ><br  />
</p>
<h2><a class="anchor" id="dgraphs_pathfinding_path_relayed"></a>
Relayed state</h2>
<p >In case you are requesting pathfinding between same points that already has been computed with the same algorithm you are using and the path has not been removed from the cache, the core will skip pathfinding and instantly return you related <code>Path</code> instance with computed result.</p>
<p >Such a <code>Path</code> instance will has relayed <code>state</code> and will forward to another precomputed instance. The state considering as <code>isComputed</code> the same as <code>Built</code> one.</p>
<hr  />
<h1><a class="anchor" id="dgraphs_pathfinding_astar"></a>
A*</h1>
<p ><b><a class="el" href="namespace_doloro.html">Doloro</a> Graph</b> module supplies you with a classic implementation of A* algorithm that frequently considering as most friendly algorithm for game tasks.</p>
<p >To use it just operate pathfinding tasks via instance of <code>AStarPath</code> class. </p><div class="fragment"><div class="line">// Defining new path with origin \ destination points.</div>
<div class="line">var path new AStarPath(FROM_NODE, TO_NODE);</div>
</div><!-- fragment --><p ><b>Explore:</b> <a class="el" href="class_doloro_1_1_graphs_1_1_a_star_path.html" title="Implementation of the A* pathfinding algorithm.">Doloro.Graphs.AStarPath</a> : Path</p>
<hr  />
<h1><a class="anchor" id="dgraphs_pathfinding_ht"></a>
How to...</h1>
<h2><a class="anchor" id="dgraphs_pathfinding_ht_build"></a>
Build a path</h2>
<p >To build the path at first you should defined which algorithm you want to use. <br  />
 Following example uses A* implemented with <code>AStarPath</code> class. An example skips a part of graph creation and connections establishing. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Member   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GRAPH   </td><td class="markdownTableBodyNone"><code>Graph</code>   </td><td class="markdownTableBodyNone">Graph instance using as environment of pathfinder search.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NODE_FROM   </td><td class="markdownTableBodyNone"><code>GraphNode</code>   </td><td class="markdownTableBodyNone">Node in <code>GRAPH</code> selected as path start point.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NODE_TO   </td><td class="markdownTableBodyNone"><code>GraphNode</code>   </td><td class="markdownTableBodyNone">Node in <code>GRAPH</code> selected as destination point.   </td></tr>
</table>
<div class="fragment"><div class="line">// Building path.</div>
<div class="line">var path = new AStarPath(FROM_NODE, TO_NODE);</div>
<div class="line"> </div>
<div class="line">// Requesting path build.</div>
<div class="line">//</div>
<div class="line">// !! Current tutorial using synchronically, to simplify example, but normally</div>
<div class="line">// You should work asynchronically via `BuildAsync` or `BuildCoroutine`;</div>
<div class="line">path.Build();</div>
<div class="line"> </div>
<div class="line">if(!path.isComputed)</div>
<div class="line">{</div>
<div class="line">  // Path can&#39;t be build</div>
<div class="line">  throw new ...</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Handling computed path here.</div>
<div class="line">...</div>
<div class="line">// ----------------------------</div>
</div><!-- fragment --><p ><br  />
</p>
<h2><a class="anchor" id="dgraphs_pathfinding_ht_get"></a>
Get built path</h2>
<p >At first in case of normal implementation of pathfinder algorithm and its interfragion within <b><a class="el" href="namespace_doloro.html">Doloro</a> Graphs</b> logic you no need any manual calls. Just build a new path the way you want and in case if its already has been built the system will return you chached instance instead on new computing process start.</p>
<p >Still the API leave you several manual ways to get access to the cached instances.</p>
<h3><a class="anchor" id="dgraphs_pathfinding_ht_get_abstract"></a>
Abstract path</h3>
<p >Normally its not important for you which type of pathfinder has been used during search. In such case you may check is the path is already has been cached by following call. </p><div class="fragment"><div class="line">if(Path.TryGetCachedPath(FROM_NODE, TO_NODE, out Path path))</div>
<div class="line">{</div>
<div class="line">  // Path between nodes exists in pre-computed cache.</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="dgraphs_pathfinding_ht_get_typed"></a>
Certain path</h3>
<p >In case you are need specific path build behavior guaranties with a certain algorithm you may get access to previously build path following next pattern. </p><div class="fragment"><div class="line">if(Path.TryGetCachedPath&lt;ALGORITHM_TYPE&gt;(FROM_NODE, TO_NODE, out ALGORITHM_TYPE path))</div>
<div class="line">{</div>
<div class="line">  // Path between nodes exists in pre-computed cache.</div>
<div class="line">}</div>
</div><!-- fragment --><p> where <code>ALGORITHM_TYPE</code> is a <code>Path</code> derived class type you expecting to use during path build.</p>
<p ><br  />
</p>
<h2><a class="anchor" id="dgraphs_pathfinding_ht_release"></a>
Release path</h2>
<p >In case you need new pathfinding process for <code>Path</code> that has been computed you may call the <code>Release</code> method over it and remove it from the <a class="el" href="dgraphs_pathfinding.html#dgraphs_pathfinding_path_cache">Cache</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md__d___work__git_hub__d_g_d_k22__assets__doloro__g_d_k__doloro__graphs__r_e_a_d_m_e.html">Doloro Graphs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
