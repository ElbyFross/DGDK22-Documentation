<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doloro GDK 22: Execution logic &amp; Practices</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-2.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Doloro GDK 22<span id="projectnumber">&#160;.1.0 Beta</span>
   </div>
   <div id="projectbrief">by Tauri Interactive</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dai_core_gs_exe.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Execution logic &amp; Practices </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dai_core_gs_exe_root">Logic Cores Root</a></li>
<li class="level1"><a href="#dai_core_gs_exe_action">Actions using</a></li>
<li class="level1"><a href="#dai_core_gs_exe_orders">Orders using</a></li>
<li class="level1"><a href="#dai_core_gs_exe_mem">Virtual memory using</a><ul><li class="level2"><a href="#dai_core_gs_exe_mem_nodes">via Action</a></li>
<li class="level2"><a href="#dai_core_gs_exe_mem_code">via code</a><ul><ul><li class="level4"><a href="#dai_core_gs_exe_mem_code_w">Writing</a></li>
<li class="level4"><a href="#dai_core_gs_exe_mem_code_r">Reading</a></li>
</ul>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#dai_core_gs_exe_session">Session data</a><ul><li class="level2"><a href="#dai_core_gs_exe_session_example">Example</a></li>
<li class="level2"><a href="#dai_core_gs_exe_session_example_bp">Best practice</a></li>
</ul>
</li>
<li class="level1"><a href="#dai_core_gs_exe_flow">Flow control</a><ul><li class="level2"><a href="#dai_core_gs_exe_flow_manual">Manual</a></li>
<li class="level2"><a href="#dai_core_gs_exe_flow_auto">Core auto-controlled</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p >Following section clarify you how the <code>Brain</code> executes the <code>DAIProject</code> using a logical graph. Also here you'll find the best development practices for <code><a class="el" href="namespace_doloro.html">Doloro</a> AI Core</code>-based projects.</p>
<h1><a class="anchor" id="dai_core_gs_exe_root"></a>
Logic Cores Root</h1>
<p ><code><a class="el" href="class_doloro_1_1_a_i_1_1_logic_cores_root.html" title="Root node that manages logic cores of the AI. Executes child nodes in parallel way.">Doloro.AI.LogicCoresRoot</a></code> it's a single <code>Order</code> implemented within the <code><a class="el" href="namespace_doloro.html">Doloro</a> AI Core</code> itself. The instance of the nodes creates by <code>Brain</code> component during instantiation of the <code>DAIProject</code> source.</p>
<p >The node implements core behavior logic in meter of call all your root layer action\scripts.</p><ul>
<li>Calls all the child nodes in parallel way.</li>
<li>Restarts the branch execution as soon as it has been computed.</li>
<li>Holds the branch while it has <code>InProgress</code> result.</li>
</ul>
<h1><a class="anchor" id="dai_core_gs_exe_action"></a>
Actions using</h1>
<p ><code>Action</code> is a final state logical block the represents leaf of the branch. It has no children and stops in-depth hierarchy navigation on itself.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">State   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Success   </td><td class="markdownTableBodyNone">Execution of an action has been competed with an expected result.\nIn case of conditional actions <code>Success</code> result should mean <code>true</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Fail   </td><td class="markdownTableBodyNone">Execution of an action has been failed.\nIn case of conditional actions <code>Success</code> result should mean <code>false</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">In progress   </td><td class="markdownTableBodyNone">Execution of action has not been finished yet.\nThe node will be called on the next tic as soon as be reached in execution queue.   </td></tr>
</table>
<h1><a class="anchor" id="dai_core_gs_exe_orders"></a>
Orders using</h1>
<p ><code>Order</code> is an <code>Action</code> derived class. The difference is the <code>Order</code> can receive other <code>Action</code> instances as child. By using orders, you are creating in-depth hierarchy of logic that allows to make you conditional branching of AI instance behavior.</p>
<p >By global logical concept orders splits on following ideas: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Concept   </th><th class="markdownTableHeadNone">Idea    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Sequencer   </td><td class="markdownTableBodyNone">Executes child logical nodes in some sequence following a straight algorithm.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Multi-task   </td><td class="markdownTableBodyNone">Executes child logical nodes independently providing you with fake or real multi-threading operations.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Randomizer   </td><td class="markdownTableBodyNone">Executes children logical node in some randomly way to simulate flexible behavior in the cases with the same entry conditions.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Listener   </td><td class="markdownTableBodyNone">Not makes a choice by any internal rules and leaves the choice to some external handler.\nHandler could be located both:<br  />
 - in some different part of the AI graph and conduct its choice implicitly or explicitly via the <code>Virtual memory</code><br  />
 - outside of the AI and operate the choice via messages \ delegates \ events.   </td></tr>
</table>
<p >An order should operate output result according with results of its children execution results. Return of unmanaged predefined result could damage concept of conditional flow control using in regular AI development process.</p>
<h1><a class="anchor" id="dai_core_gs_exe_mem"></a>
Virtual memory using</h1>
<p >Every AI instance represented with the <code>Brain</code> component has its own virtual memory that can store runtime AI data for continue used during the session.</p>
<h2><a class="anchor" id="dai_core_gs_exe_mem_nodes"></a>
via Action</h2>
<p >You can operate the memory via the following nodes supplied with the <code><a class="el" href="namespace_doloro.html">Doloro</a> Core Nodes</code> module or them custom analogs: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Operation type   </th><th class="markdownTableHeadNone">Node   </th><th class="markdownTableHeadNone">Default editor menu path    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter" rowspan="9">set   </td><td class="markdownTableBodyNone"><code>SetBool</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Bool    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SetFloat</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Float    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SetInt</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Int    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SetRect</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Rect    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SetString</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set String    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SetVector2</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Vector2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SetVector3</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Vector3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SetVector4</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Vector4    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SetVariable</code>   </td><td class="markdownTableBodyNone">Actions \ Set \ Set Variable    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter" rowspan="5">compare   </td><td class="markdownTableBodyNone"><code>CompareBool</code>   </td><td class="markdownTableBodyNone">Actions \ Compare \ Compare Bool    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CompareFloat</code>   </td><td class="markdownTableBodyNone">Actions \ Compare \ Compare Float    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CompareInt</code>   </td><td class="markdownTableBodyNone">Actions \ Compare \ Compare Int    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CompareObjectRef</code>   </td><td class="markdownTableBodyNone">Actions \ Compare \ Compare Object Ref    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CompareString</code>   </td><td class="markdownTableBodyNone">Actions \ Compare \ Compare String    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter" rowspan="4">operator   </td><td class="markdownTableBodyNone"><code>FloatOperation</code>   </td><td class="markdownTableBodyNone">Actions \ Operators \ Float Operation    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IntOperation</code>   </td><td class="markdownTableBodyNone">Actions \ Operators \ Int Operation    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>RectOperation</code>   </td><td class="markdownTableBodyNone">Actions \ Operators \ Rect Operation    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>StringOperation</code>   </td><td class="markdownTableBodyNone">Actions \ Operators \ String Operation    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter" rowspan="4">system   </td><td class="markdownTableBodyNone"><code>Copy</code>   </td><td class="markdownTableBodyNone">Actions \ Memory \ Copy    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Exists</code>   </td><td class="markdownTableBodyNone">Actions \ Memory \ Exists    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Remove</code>   </td><td class="markdownTableBodyNone">Actions \ Memory \ Remove    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>RemoveByType</code>   </td><td class="markdownTableBodyNone">Actions \ Memory \ Remove By Type   </td></tr>
</table>
<p >More details you may find by following link: <a class="el" href="md__d___work__git_hub__d_g_d_k22__assets__tauri__interactive__doloro__g_d_k__d_a_i__nodes.html#dai_core_nodes_actions">Actions</a></p>
<h2><a class="anchor" id="dai_core_gs_exe_mem_code"></a>
via code</h2>
<p >During <code><a class="el" href="class_doloro_1_1_a_i_1_1_action.html" title="Abstract class for creating custom actions">Doloro.AI.Action</a></code> or <code><a class="el" href="class_doloro_1_1_a_i_1_1_order.html" title="Abstract class that used for calculations of order">Doloro.AI.Order</a></code> development or managing process of an <code><a class="el" href="class_doloro_1_1_a_i_1_1_brain.html" title="AI Components that executes node based actions map.">Doloro.AI.Brain</a></code> instace from the external tools and components you may interact with the Virtual Memory of the AI instance.</p>
<h4><a class="anchor" id="dai_core_gs_exe_mem_code_w"></a>
Writing</h4>
<p >Following example demonstrates how to set variable to the <code><a class="el" href="class_doloro_1_1_a_i_1_1_core_1_1_memory.html" title="The class that add an ability to AI to member the references and values. Required to orientation in t...">Doloro.AI.Core.Memory</a></code> instance allocated over a <code><a class="el" href="class_doloro_1_1_a_i_1_1_brain.html" title="AI Components that executes node based actions map.">Doloro.AI.Brain</a></code> component.</p>
<div class="fragment"><div class="line">// Creating new `Variable` instance.</div>
<div class="line">var VAR_INSTANCE = new Variable(VAR_NAME, VAR_VALUE);</div>
<div class="line"> </div>
<div class="line">// Sending the variable to the memory.</div>
<div class="line">AI_INSTANCE.memory.Write(WRITE_AGENT_REF, ref VAR_INSTANCE);</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Member   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VAR_NAME   </td><td class="markdownTableBodyNone"><code>string</code>   </td><td class="markdownTableBodyNone">Name of the variable in Virtual Memory pool.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VAR_VALUE   </td><td class="markdownTableBodyNone"><code>object</code>   </td><td class="markdownTableBodyNone">Object to variable set.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VAR_INSTANCE   </td><td class="markdownTableBodyNone"><code><a class="el" href="class_doloro_1_1_a_i_1_1_variable.html">Doloro.AI.Variable</a></code>   </td><td class="markdownTableBodyNone">Reference to Virtual Memory entry.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AI_INSTANCE   </td><td class="markdownTableBodyNone"><code><a class="el" href="class_doloro_1_1_a_i_1_1_brain.html" title="AI Components that executes node based actions map.">Doloro.AI.Brain</a></code>   </td><td class="markdownTableBodyNone">Instance of an AI that holds the memory pool.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WRITE_AGENT_REF   </td><td class="markdownTableBodyNone"><code>object</code>   </td><td class="markdownTableBodyNone">Reference to object initiated the operation.   </td></tr>
</table>
<p >The <code><a class="el" href="class_doloro_1_1_a_i_1_1_variable.html">Doloro.AI.Variable</a></code> always sending by using <code>ref</code> because variable itself is a container. To proof references integrity the memory may change the container on other related to the variable that already using by internal services or other agents.</p>
<h4><a class="anchor" id="dai_core_gs_exe_mem_code_r"></a>
Reading</h4>
<p >Following example demonstrates how to get variable from the <code><a class="el" href="class_doloro_1_1_a_i_1_1_core_1_1_memory.html" title="The class that add an ability to AI to member the references and values. Required to orientation in t...">Doloro.AI.Core.Memory</a></code> instance. This example goes for a case when you are calling the memory from within a <code><a class="el" href="class_doloro_1_1_a_i_1_1_action.html" title="Abstract class for creating custom actions">Doloro.AI.Action</a></code>.</p>
<div class="fragment"><div class="line">// Checking that the var exists in the memory pool.</div>
<div class="line">if (!AI_INSTANCE.memory.Exists(VAR_NAME))</div>
<div class="line">{</div>
<div class="line">    // Variable not found.</div>
<div class="line">    // Considering `Action` execution as failed.</div>
<div class="line">    return Result.Fail;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Reading variable from the memory.</div>
<div class="line">var VAR_INSTANCE = AI_INSTANCE.memory.Read(VAR_NAME);</div>
<div class="line"> </div>
<div class="line">// Validating received var by its type.</div>
<div class="line">if(!(VAR_INSTANCE.value is EXPECTED_TYPE castedVar))</div>
<div class="line">{</div>
<div class="line">    // Variable has unexpected type.</div>
<div class="line">    // Considering `Action` execution as failed.</div>
<div class="line">    return Result.Fail;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Variable is received and valid to use.</div>
<div class="line">// Handle the value here by referring the `castedVar` member.</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Member   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VAR_NAME   </td><td class="markdownTableBodyNone"><code>string</code>   </td><td class="markdownTableBodyNone">Name of the variable in Virtual Memory pool.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VAR_INSTANCE   </td><td class="markdownTableBodyNone"><code><a class="el" href="class_doloro_1_1_a_i_1_1_variable.html">Doloro.AI.Variable</a></code>   </td><td class="markdownTableBodyNone">Reference to Virtual Memory entry.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">AI_INSTANCE   </td><td class="markdownTableBodyNone"><code><a class="el" href="class_doloro_1_1_a_i_1_1_brain.html" title="AI Components that executes node based actions map.">Doloro.AI.Brain</a></code>   </td><td class="markdownTableBodyNone">Instance of an AI that holds the memory pool.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">EXPECTED_TYPE   </td><td class="markdownTableBodyNone"><code>System.Type</code>   </td><td class="markdownTableBodyNone">Type expecting from the <code>Variable</code> stored value.   </td></tr>
</table>
<p >In case of a trusted variable that always exists and has the same type you should use <b>unsafe</b> way to access data to prevent extra CPU time usage. Save way for such tasks could be critical for AI performance and should be reduced if possible.</p>
<div class="fragment"><div class="line">EXPECTED_TYPE value = (EXPECTED_TYPE) AI_INSTANCE.memory.Read(VAR_NAME).value</div>
</div><!-- fragment --><h1><a class="anchor" id="dai_core_gs_exe_session"></a>
Session data</h1>
<p >Normally any <code>Action</code> which behavior based on its internal data should release this entire temporal data as soon as its active session is ended.</p>
<p >To handle this you need to override <code><a class="el" href="class_doloro_1_1_a_i_1_1_action.html#af09f24bbd14e3e38ad653e18e63021aa" title="Occurs when action execution is ended. Calls each time the node got an explicit result as a Result....">Doloro.AI.Action.End</a></code> handler and dispatch the entire session data within.</p>
<p >Such a data must be set back to parameters considering default to the node along with its definition made by AI developer or default values defied within the source itself. Otherwise, it could cause unexpected behavior during the next session</p>
<h2><a class="anchor" id="dai_core_gs_exe_session_example"></a>
Example</h2>
<p >Following example shows a good practice of work with session data that dully modifies an <code>Action</code> instance from inside.</p>
<div class="fragment"><div class="line">public class CUSTOM_ACTION : Action</div>
<div class="line">{</div>
<div class="line">    // Variables defined by user \ developer via public interface.</div>
<div class="line">    public int      USER_DEFINED_VAR0;</div>
<div class="line">    public float    USER_DEFINED_VAR1;</div>
<div class="line"> </div>
<div class="line">    // Internal system variables defined from within the script.</div>
<div class="line">    protected int   SOURCE_DEFINED_VAR0;</div>
<div class="line">    protected float SOURCE_DEFINED_VAR1;</div>
<div class="line"> </div>
<div class="line">    // Variables that will store our backed up data.</div>
<div class="line">    // You may use any other more advanced way to backup settings,</div>
<div class="line">    // current examples shows the simplest one.</div>
<div class="line">    private int     USER_DEFINED_VAR0_BACKUP;</div>
<div class="line">    private float   USER_DEFINED_VAR1_BACKUP;</div>
<div class="line"> </div>
<div class="line">    // Occurs when the action instance loaded to the virtual machine.</div>
<div class="line">    public override void Init(Brain ai)</div>
<div class="line">    {</div>
<div class="line">        // Making backup of settings defied by AI developer.</div>
<div class="line">        MakeUserSettingsBackup();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Executive logic for the node.</div>
<div class="line">    public override Result Pass(Brain ai)</div>
<div class="line">    {</div>
<div class="line">        // Executing logical node with effect over internal values.</div>
<div class="line">        ....</div>
<div class="line">        // ------------------------------------------------------</div>
<div class="line"> </div>
<div class="line">        // Concluding a result.</div>
<div class="line">        return Result.Success;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Handler calling when an Action/Order get</div>
<div class="line">    // and explicit result like a Success or Fail.</div>
<div class="line">    public override void End(Brain ai)</div>
<div class="line">    {</div>
<div class="line">        // Restoring default state of the node.</div>
<div class="line">        SetDefaults();</div>
<div class="line">    }        </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    // Records user defined settings for continue backup.</div>
<div class="line">    protected virtual void MakeUserSettingsBackup()</div>
<div class="line">    {</div>
<div class="line">        USER_DEFINED_VAR0_BACKUP = USER_DEFINED_VAR0;</div>
<div class="line">        USER_DEFINED_VAR1_BACKUP = USER_DEFINED_VAR1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Writes back saved user defined data.</div>
<div class="line">    protected virtual void RestoreUserSettingsBackup()</div>
<div class="line">    {</div>
<div class="line">        USER_DEFINED_VAR0 = USER_DEFINED_VAR0_BACKUP;</div>
<div class="line">        USER_DEFINED_VAR1 = USER_DEFINED_VAR1_BACKUP;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // Drops the action to default state.</div>
<div class="line">    protected virtual void SetDefaults()</div>
<div class="line">    {</div>
<div class="line">        // Restoring user defined values.</div>
<div class="line">        RestoreUserSettingsBackup();</div>
<div class="line"> </div>
<div class="line">        // Restoring script defined values.</div>
<div class="line">        SOURCE_DEFINED_VAR0 = 1;</div>
<div class="line">        SOURCE_DEFINED_VAR1 = 1f;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="dai_core_gs_exe_session_example_bp"></a>
Best practice</h2>
<p >Instead of creating such complex schemas mentioned in previous paragraph, we recommend you avoid overriding of initial setting members and separate your permanent and temporal data.</p>
<p >Just make you choose in conditional logic using initial members and reinitialize temporal members according to it.</p>
<p >This will allow you to avoid unnecessary operations of backing up and restoring of the values. Remember that an AI should be as fast as possible and anything that could be reduced must be reduced.</p>
<dl class="section warning"><dt>Warning</dt><dd>The practice applicable only to management of memory allocated within the Action instance. Any external data should be handled using the previous concept.</dd></dl>
<h1><a class="anchor" id="dai_core_gs_exe_flow"></a>
Flow control</h1>
<h2><a class="anchor" id="dai_core_gs_exe_flow_manual"></a>
Manual</h2>
<p >Any AI makes decisions of which branch within the behavior graph to select basing on results gained on other stages. <code><a class="el" href="namespace_doloro.html">Doloro</a> AI Core</code> implements it in a way when each logical node returns some <code><a class="el" href="namespace_doloro_1_1_a_i_1_1_core.html#acb4adc2421772118ba0c2c3ccdc672ed" title="Result of calculation.">Doloro.AI.Core.Result</a></code> that literally divided on 2 logical states:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Incomplete <br  />
 (Implicit)   </th><th class="markdownTableHeadNone">Complete <br  />
 (Explicit)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">None   </td><td class="markdownTableBodyNone">Success    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">InProgress   </td><td class="markdownTableBodyNone">Fail   </td></tr>
</table>
<p >Complete stages using by sequence orders as input value that allows to make decision where its has to go next in branch.</p>
<p >The other way for <code><a class="el" href="class_doloro_1_1_a_i_1_1_order.html" title="Abstract class that used for calculations of order">Doloro.AI.Order</a></code> derived classes to make a choice is make it according with a data shared via <a class="el" href="dai_core_gs_exe.html#dai_core_gs_exe_mem">Virtual memory using</a> or own internal specific logic.</p>
<p >Each <code><a class="el" href="class_doloro_1_1_a_i_1_1_order.html" title="Abstract class that used for calculations of order">Doloro.AI.Order</a></code> implements different algorithm, but the concept itself staying still.</p>
<h2><a class="anchor" id="dai_core_gs_exe_flow_auto"></a>
Core auto-controlled</h2>
<p >To addition of custom logic implemented with orders <code><a class="el" href="class_doloro_1_1_a_i_1_1_brain.html" title="AI Components that executes node based actions map.">Doloro.AI.Brain</a></code> also has a built-in flow control system. That system allows you to create logical loop for certain order \ action <b>until it reach a certain expected explicit result</b>.</p>
<p >This loop can be managed by definition the condition via the <code><a class="el" href="class_doloro_1_1_a_i_1_1_core_1_1_pipeline_item.html#a3f9385ac174f079d5e2396f4752da166" title="Is require repeating of action?">Doloro.AI.Core.PipelineItem.LoopUntil</a></code> property or via any AI IDE like a <code><a class="el" href="namespace_doloro.html">Doloro</a> AI Studio</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md__d___work__git_hub__d_g_d_k22__assets__tauri__interactive__doloro__g_d_k__doloro__a_i__core__r_e_a_d_m_e.html">Doloro AI Core</a></li><li class="navelem"><a class="el" href="dai_core_gs.html">Getting Started</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
